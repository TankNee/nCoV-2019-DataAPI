(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"045b":function(t,s,a){},"26bf":function(t,s,a){"use strict";var e=a("045b"),o=a.n(e);o.a},7159:function(t,s,a){t.exports=a.p+"static/img/img.146655c9.jpg"},"7ed4":function(t,s,a){"use strict";var e=a("0261"),o=new e["default"];s["a"]=o},e2ad:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("el-card",{staticClass:"mgb20",staticStyle:{height:"252px"},attrs:{shadow:"hover"}},[e("div",{staticClass:"user-info"},[e("img",{staticClass:"user-avator",attrs:{src:a("7159"),alt:""}}),e("div",{staticClass:"user-info-cont"},[e("div",{staticClass:"user-info-name"},[t._v(t._s(t.userInfo.userName))]),e("div",[t._v(t._s(t.role))])])]),e("div",{staticClass:"user-info-list"},[t._v("\n                    上次登录时间：\n                    "),e("span",[t._v(t._s(t.userInfo.lastLoginTime))])]),e("div",{staticClass:"user-info-list"},[t._v("\n                    上次登录地点：\n                    "),e("span",[t._v("东莞")])])]),e("el-card",{staticStyle:{height:"252px"},attrs:{shadow:"hover"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("语言详情")])]),t._v("\n                Vue\n                "),e("el-progress",{attrs:{percentage:71.3,color:"#42b983"}}),t._v("\n                JavaScript\n                "),e("el-progress",{attrs:{percentage:24.1,color:"#f1e05a"}}),t._v("\n                CSS\n                "),e("el-progress",{attrs:{percentage:13.7}}),t._v("\n                HTML\n                "),e("el-progress",{attrs:{percentage:5.9,color:"#f56c6c"}})],1)],1),e("el-col",{attrs:{span:16}},[e("el-row",{staticClass:"mgb20",attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("el-card",{attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"grid-content grid-con-1"},[e("i",{staticClass:"el-icon-warning grid-con-icon"}),e("div",{staticClass:"grid-cont-right"},[e("div",{staticClass:"grid-num"},[t._v(t._s(t.sumInfo.confirmedCount))]),e("div",[t._v("确诊人数")])])])])],1),e("el-col",{attrs:{span:8}},[e("el-card",{attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"grid-content grid-con-2"},[e("i",{staticClass:"el-icon-success grid-con-icon"}),e("div",{staticClass:"grid-cont-right"},[e("div",{staticClass:"grid-num"},[t._v(t._s(t.sumInfo.curedCount))]),e("div",[t._v("治愈人数")])])])])],1),e("el-col",{attrs:{span:8}},[e("el-card",{attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"grid-content grid-con-3"},[e("i",{staticClass:"el-icon-error grid-con-icon"}),e("div",{staticClass:"grid-cont-right"},[e("div",{staticClass:"grid-num"},[t._v(t._s(t.sumInfo.deadCount))]),e("div",[t._v("死亡人数")])])])])],1)],1),e("el-card",{staticStyle:{height:"403px"},attrs:{shadow:"hover"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("待办事项")]),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[t._v("添加")])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{"show-header":!1,data:t.todoList}},[e("el-table-column",{attrs:{width:"40"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-checkbox",{model:{value:s.row.status,callback:function(a){t.$set(s.row,"status",a)},expression:"scope.row.status"}})]}}])}),e("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",{staticClass:"todo-item",class:{"todo-item-del":s.row.status}},[t._v(t._s(s.row.title)+"\n                            ")])]}}])}),e("el-table-column",{attrs:{width:"60"}},[[e("i",{staticClass:"el-icon-edit"}),e("i",{staticClass:"el-icon-delete"})]],2)],1)],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-card",{attrs:{shadow:"hover"}},[e("schart",{ref:"bar",staticClass:"schart",attrs:{canvasId:"bar",options:t.options}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-card",{attrs:{shadow:"hover"}},[e("schart",{ref:"line",staticClass:"schart",attrs:{canvasId:"line",options:t.options2}})],1)],1)],1)],1)},o=[],n=(a("6d57"),a("a311")),r=(a("7ed4"),a("425e")),i={name:"dashboard",data:function(){return{name:"",todoList:[],data:[],options:{type:"bar",title:{text:"各个省份的确诊人数统计"},xRorate:0,legend:{display:!1},labels:[],datasets:[]},options2:{type:"line",title:{text:"全国确诊人数统计"},labels:[],datasets:[]},userInfo:{},sumInfo:{}}},components:{Schart:n["a"]},computed:{role:function(){return"admin"===this.userInfo.userName?"超级管理员":"普通用户"}},created:function(){var t=this,s=localStorage.getItem("nCoV-token"),a=localStorage.getItem("nCoV-uid");r["a"].setTokenInHeaders(s),r["a"].fetchPost("/admin/getUserInfo",{id:a}).then((function(s){s.userInfo.lastLoginTime=new Date(s.userInfo.lastLoginTime).toLocaleTimeString(),t.userInfo=s.userInfo})),r["a"].fetchGet("/api").then((function(s){t.sumInfo=s.sumInfo;var a=[],e=[];s.provinceInfo.forEach((function(t){a.push(t.provinceShortName),e.push(t.confirmedCount)})),t.options.labels=a,t.options.datasets.push({data:e})})),r["a"].fetchGet("/api/sum").then((function(s){for(var a=[],e=[],o=0;o<10;o++){var n=new Date(s[o].addtime).toLocaleTimeString();a.push(n);var r=s[o].confirmedCount;e.push(r)}t.options2.labels=a,t.options2.datasets.push({labels:"全国确诊人数",data:e.reverse()})}))},methods:{changeDate:function(){var t=(new Date).getTime();this.data.forEach((function(s,a){var e=new Date(t-864e5*(6-a));s.name="".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate())}))}}},c=i,l=(a("26bf"),a("5511")),d=Object(l["a"])(c,e,o,!1,null,"0eeaee68",null);s["default"]=d.exports}}]);